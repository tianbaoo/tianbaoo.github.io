<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>go常用命令行命令 | 天宝的博客</title>
    <meta property="og:title" content="go常用命令行命令 - 天宝的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-07-19T12:15:46&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-07-19T12:15:46&#43;08:00'>
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,天宝,Python,Django,博客">
    <meta name="description" content="go常用命令行命令">
        
    <meta name="author" content="郭天宝">
    <meta property="og:url" content="http://tianbaoo.github.io/post/goFast/">
    <link rel="shortcut icon" href='css/favicon.ico' type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    


    
    
        <link rel="stylesheet" href='/css/douban.css'>
    
        <link rel="stylesheet" href='/css/other.css'>
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="http://tianbaoo.github.io/">
                        天宝的博客
                    </a>
                
                <p class="description">专注于Python、Go语言(golang)、移动互联网</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="http://tianbaoo.github.io/">首页</a>
                    
                    <a  href="http://tianbaoo.github.io/archives/" title="归档">归档</a>
                    
                    <a  href="http://tianbaoo.github.io/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">go常用命令行命令</h1>
        </header>
        <date class="post-meta meta-date">
            2020年7月19日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category"><a href='http://tianbaoo.github.io/categories/Go'>Go</a></span>
            
        </div>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <h1 id="安装工具">安装工具</h1>
<h2 id="最简单的方式">最简单的方式</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> get <span style="color:#ff79c6">-</span>u golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>tool<span style="color:#ff79c6">/...</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="替代方式">替代方式</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ GO111MODULE=on <span style="color:#ff79c6">go</span> get golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>tool<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>stress
</code></pre></td></tr></table>
</div>
</div><h2 id="环境变量">环境变量</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> env
$ <span style="color:#ff79c6">go</span> env GOPATH GOO GOARCH
$ <span style="color:#ff79c6">go</span> env <span style="color:#ff79c6">-</span>w GOPROXY=https:<span style="color:#6272a4">//goproxy.cn,direct
</span><span style="color:#6272a4"></span>$ <span style="color:#ff79c6">go</span> help environment
</code></pre></td></tr></table>
</div>
</div><h1 id="开发">开发</h1>
<h2 id="运行代码">运行代码</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> run .                      # 运行当前目录的包 
$ <span style="color:#ff79c6">go</span> run .<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>foo              # 运行 .<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>foo 目录下的包 获取依赖 
$ <span style="color:#ff79c6">go</span> get github.com<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar@v1<span style="color:#bd93f9">.2.3</span> 
$ <span style="color:#ff79c6">go</span> get github.com<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar@<span style="color:#bd93f9">8e1</span>b8d3 
$ <span style="color:#ff79c6">go</span> list <span style="color:#ff79c6">-</span>m all                # 显示所有依赖 
$ <span style="color:#ff79c6">go</span> mod why <span style="color:#ff79c6">-</span>m golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>y  # 为什依赖它？ 
$ <span style="color:#ff79c6">go</span> clean <span style="color:#ff79c6">-</span>modcache            # 清除模块缓存 格式化代码 
$ gofmt <span style="color:#ff79c6">-</span>d <span style="color:#ff79c6">-</span>w <span style="color:#ff79c6">-</span>r &#39;foo <span style="color:#ff79c6">-</span>&gt; Foo&#39; . # 替换 foo 为 Foo 
$ gofmt <span style="color:#ff79c6">-</span>d <span style="color:#ff79c6">-</span>w <span style="color:#ff79c6">-</span>r &#39;strings.<span style="color:#50fa7b">Replace</span>(a, b, <span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span>) <span style="color:#ff79c6">-</span>&gt; strings.<span style="color:#50fa7b">ReplaceAll</span>(a, b)&#39; . 
</code></pre></td></tr></table>
</div>
</div><h2 id="查看-go-文档">查看 Go 文档</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> doc strings                # 查看 strings 包的简化版文档 
$ <span style="color:#ff79c6">go</span> doc <span style="color:#ff79c6">-</span>all strings           # 查看 strings 包的全部文档 
$ <span style="color:#ff79c6">go</span> doc strings.Replace        # 查看 strings.Replace 函数的文档 
$ <span style="color:#ff79c6">go</span> doc sql.DB                 # 查看 database<span style="color:#ff79c6">/</span>sql.DB 类型的文档 
$ <span style="color:#ff79c6">go</span> doc sql.DB.Query           # 查看 database<span style="color:#ff79c6">/</span>sql.DB.Query 方法的文档 
$ <span style="color:#ff79c6">go</span> doc <span style="color:#ff79c6">-</span>src strings.Replace   # 查看 strings.Replace 函数的源码
</code></pre></td></tr></table>
</div>
</div><h1 id="testing">Testing</h1>
<h2 id="运行测试">运行测试</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test .                      # 运行当前目录的所有测试 
$ <span style="color:#ff79c6">go</span> test .<span style="color:#ff79c6">/...</span>                  # 运行当前目录及其子目录的所有测试 
$ <span style="color:#ff79c6">go</span> test .<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar              # 运行 .<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar 目录的所有测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>race .<span style="color:#ff79c6">/...</span>            # 启用 race 检测的测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>count=<span style="color:#bd93f9">1</span> .<span style="color:#ff79c6">/...</span>         # 运行测试时绕过测试缓存 
$ <span style="color:#ff79c6">go</span> clean <span style="color:#ff79c6">-</span>testcache            # 删除所有缓存的测试结果 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>v <span style="color:#ff79c6">-</span>run=^TestFooBar$ . # 运行名称为 TestFooBar 的测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>v <span style="color:#ff79c6">-</span>run=^TestFoo .     # 运行名称以 TestFoo 开头的测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>v <span style="color:#ff79c6">-</span>run=^TestFooBar$<span style="color:#ff79c6">/</span>^Baz$ . # 仅运行 FooBar 测试下的 Baz 子测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>short .<span style="color:#ff79c6">/...</span>           # 跳过长时间运行的测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>failfast .<span style="color:#ff79c6">/...</span>        # 失败后请勿再进行进一步的测试
</code></pre></td></tr></table>
</div>
</div><h2 id="profiling-test-coverage">Profiling Test Coverage</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>cover .<span style="color:#ff79c6">/...</span> 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>coverprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>profile.out .<span style="color:#ff79c6">/...</span>                  # coverage profile <span style="color:#ff79c6">for</span> browser 
$ <span style="color:#ff79c6">go</span> tool cover <span style="color:#ff79c6">-</span>html=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>profile.out 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>covermode=count <span style="color:#ff79c6">-</span>coverprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>profile.out .<span style="color:#ff79c6">/...</span> # coverage with frequency shown 
$ <span style="color:#ff79c6">go</span> tool cover <span style="color:#ff79c6">-</span>html=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>profile.out 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>coverprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>profile.out .<span style="color:#ff79c6">/...</span>                  # coverage in CLI without any browser 
$ <span style="color:#ff79c6">go</span> tool cover <span style="color:#ff79c6">-</span><span style="color:#8be9fd;font-style:italic">func</span>=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>profile.out
</code></pre></td></tr></table>
</div>
</div><h2 id="压力测试">压力测试</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^TestFooBar$ <span style="color:#ff79c6">-</span>count=<span style="color:#bd93f9">500</span> . 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>c <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo.test . # 使用压力工具 golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>tools<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>stress 
$ stress <span style="color:#ff79c6">-</span>p=<span style="color:#bd93f9">4</span> <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo.test <span style="color:#ff79c6">-</span>test.run=^TestFooBar$
</code></pre></td></tr></table>
</div>
</div><h2 id="testing-all-dependencies">Testing all dependencies</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test all
</code></pre></td></tr></table>
</div>
</div><h1 id="提交前检查">提交前检查</h1>
<h2 id="格式化代码">格式化代码</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ gofmt <span style="color:#ff79c6">-</span>w <span style="color:#ff79c6">-</span>s <span style="color:#ff79c6">-</span>d foo.<span style="color:#ff79c6">go</span>   # 格式化 foo.<span style="color:#ff79c6">go</span> 文件 
$ gofmt <span style="color:#ff79c6">-</span>w <span style="color:#ff79c6">-</span>s <span style="color:#ff79c6">-</span>d .        # 递归格式化当前目录和子目录所有文件 
$ <span style="color:#ff79c6">go</span> fmt .<span style="color:#ff79c6">/...</span>            # 另外一种格式化工具，等价 gofmt <span style="color:#ff79c6">-</span>l <span style="color:#ff79c6">-</span>w .<span style="color:#ff79c6">/...</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="通过-vet-进行静态分析">通过 vet 进行静态分析</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> vet foo.<span style="color:#ff79c6">go</span>           # 检查 foo.<span style="color:#ff79c6">go</span> 文件 
$ <span style="color:#ff79c6">go</span> vet .                # 检查当前目录下所有文件 
$ <span style="color:#ff79c6">go</span> vet .<span style="color:#ff79c6">/...</span>            # 检查当前目录及子目录下所有文件 
$ <span style="color:#ff79c6">go</span> vet .<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar        # 检查 .<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar 目录下所有文件 
$ <span style="color:#ff79c6">go</span> vet <span style="color:#ff79c6">-</span>composites=<span style="color:#ff79c6">false</span> .<span style="color:#ff79c6">/...</span> # 禁用一些分析器
</code></pre></td></tr></table>
</div>
</div><h2 id="实验性的分析器">实验性的分析器</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ cd <span style="color:#ff79c6">/</span>tmp 
$ GO111MODULE=on <span style="color:#ff79c6">go</span> get golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>tools<span style="color:#ff79c6">/</span><span style="color:#ff79c6">go</span><span style="color:#ff79c6">/</span>analysis<span style="color:#ff79c6">/</span>passes<span style="color:#ff79c6">/</span>nilness<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>nilness 
$ GO111MODULE=on <span style="color:#ff79c6">go</span> get golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>tools<span style="color:#ff79c6">/</span><span style="color:#ff79c6">go</span><span style="color:#ff79c6">/</span>analysis<span style="color:#ff79c6">/</span>passes<span style="color:#ff79c6">/</span>shadow<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>shadow 
$ <span style="color:#ff79c6">go</span> vet <span style="color:#ff79c6">-</span>vettool=$(which nilness) .<span style="color:#ff79c6">/...</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="测试时禁用-vet-工具">测试时禁用 vet 工具</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>vet=off .<span style="color:#ff79c6">/...</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="整理代码lintingcode">整理代码（LintingCode）</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ cd <span style="color:#ff79c6">/</span>tmp          # 安装 linter $ GO111MODULE=on <span style="color:#ff79c6">go</span> get golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>lint<span style="color:#ff79c6">/</span>golint 
$ golint foo.<span style="color:#ff79c6">go</span>    # Lint the foo.<span style="color:#ff79c6">go</span> file 
$ golint .         # Lint all files in the current directory 
$ golint .<span style="color:#ff79c6">/...</span>     # Lint all files in the current directory and sub<span style="color:#ff79c6">-</span>directories 
$ golint .<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar # Lint all files in the .<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar directory
</code></pre></td></tr></table>
</div>
</div><h2 id="整理和验证依赖">整理和验证依赖</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> mod tidy      # 移除所有未使用过的依赖 
$ <span style="color:#ff79c6">go</span> mod verify    # 检查依赖的 hash
</code></pre></td></tr></table>
</div>
</div><h1 id="编译和部署">编译和部署</h1>
<h2 id="编译可执行文件">编译可执行文件</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .         # 编译当前目录的包 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>foo # 编译 .<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>foo 目录的包 
</code></pre></td></tr></table>
</div>
</div><h2 id="编译缓存">编译缓存</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> env GOCACHE                 # 检查你的编译缓存存放目录 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>a <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .      # 强制重编译所有包 
$ <span style="color:#ff79c6">go</span> clean <span style="color:#ff79c6">-</span>cache                # 清除缓存 
</code></pre></td></tr></table>
</div>
</div><h2 id="编译过程">编译过程</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> list <span style="color:#ff79c6">-</span>deps . | sort <span style="color:#ff79c6">-</span>u      # 列出用于编译可执行文件的所有包 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>a <span style="color:#ff79c6">-</span>x <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .   # 重建所有内容并显示运行的命令 
</code></pre></td></tr></table>
</div>
</div><h2 id="交叉编译">交叉编译</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ GOOS=linux GOARCH=amd64 <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>linux_amd64<span style="color:#ff79c6">/</span>foo . 
$ GOOS=windows GOARCH=amd64 <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>windows_amd64<span style="color:#ff79c6">/</span>foo.exe . 
$ <span style="color:#ff79c6">go</span> tool dist list              # 列出所有支持的操作系统和CPU架构
</code></pre></td></tr></table>
</div>
</div><h2 id="使用编译器和链接器-flags">使用编译器和链接器 flags</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> tool compile <span style="color:#ff79c6">-</span>help                       # 查看编译器可用的 flag 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>gcflags=<span style="color:#f1fa8c">&#34;-m -m&#34;</span> <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .     # 打印有关优化决策的信息 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>gcflags=<span style="color:#f1fa8c">&#34;all=-m&#34;</span> <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .    # 打印包括依赖的优化决策信息 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>gcflags=<span style="color:#f1fa8c">&#34;all=-N -l&#34;</span> <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo . # 禁用优化和内联 
$ <span style="color:#ff79c6">go</span> tool link <span style="color:#ff79c6">-</span>help                          # 查看链接器可用的 flag 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>ldflags=<span style="color:#f1fa8c">&#34;-X main.version=1.2.3&#34;</span> <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo . # 增加版本信息 
$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>ldflags=<span style="color:#f1fa8c">&#34;-s -w&#34;</span> <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .                 # 从二进制文件中删除调试信息 
$ CGO_ENABLE=<span style="color:#bd93f9">0</span> GOOS=linux <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>a <span style="color:#ff79c6">-</span>ldflags &#39;<span style="color:#ff79c6">-</span>extldflags <span style="color:#f1fa8c">&#34;-static&#34;</span>&#39; . # 使二进制文件尽可能静态
</code></pre></td></tr></table>
</div>
</div><h1 id="问题诊断和优化">问题诊断和优化</h1>
<h2 id="运行和比较基准测试">运行和比较基准测试</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>bench=. .<span style="color:#ff79c6">/...</span>                                  # 运行所有测试和基准测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=. .<span style="color:#ff79c6">/...</span>                          # 只运行所有的基准测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=^BenchmarkFoo$ .<span style="color:#ff79c6">/...</span>             # 只运行 BenchmarkFoo 基准测试 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>bench=. <span style="color:#ff79c6">-</span>benchmem .<span style="color:#ff79c6">/...</span>                        # 强制将内存分配统计信息包含在输出中 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>bench=. <span style="color:#ff79c6">-</span>benchtime=<span style="color:#bd93f9">5</span>s .<span style="color:#ff79c6">/...</span>                    # 运行每个基准测试至少5秒钟 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>bench=. <span style="color:#ff79c6">-</span>benchtime=<span style="color:#bd93f9">500</span>x .<span style="color:#ff79c6">/...</span>                  # 保证每个基准测试精确进行500次迭代 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>bench=. <span style="color:#ff79c6">-</span>count=<span style="color:#bd93f9">3</span> .<span style="color:#ff79c6">/...</span>                         # 重复每个基准测试3次 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>bench=. <span style="color:#ff79c6">-</span>cpu=<span style="color:#bd93f9">1</span>,<span style="color:#bd93f9">4</span>,<span style="color:#bd93f9">8</span> .<span style="color:#ff79c6">/...</span>.                      # 将GOMAXPROCS设置为1、<span style="color:#bd93f9">4</span>和8运行基准测试 
</code></pre></td></tr></table>
</div>
</div><h2 id="比较基准测试的变化">比较基准测试的变化</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ cd <span style="color:#ff79c6">/</span>tmp                                                 # 安装 benchcmp 工具 
$ GO111MODULE=on <span style="color:#ff79c6">go</span> get golang.org<span style="color:#ff79c6">/</span>x<span style="color:#ff79c6">/</span>tools<span style="color:#ff79c6">/</span>cmd<span style="color:#ff79c6">/</span>benchcmp 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=. <span style="color:#ff79c6">-</span>benchmem .<span style="color:#ff79c6">/...</span> &gt; <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>old.txt # 进行一些修改、优化 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=. <span style="color:#ff79c6">-</span>benchmem .<span style="color:#ff79c6">/...</span> &gt; <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>new.txt 
$ benchcmp <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>old.txt <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>new.txt
</code></pre></td></tr></table>
</div>
</div><h1 id="profiling-and-tracing">Profiling and Tracing</h1>
<h2 id="运行和比较基准测试-1">运行和比较基准测试</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=^BenchmarkFoo$ <span style="color:#ff79c6">-</span>cpuprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>cpuprofile.out . 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=^BenchmarkFoo$ <span style="color:#ff79c6">-</span>memprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>memprofile.out . 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=^BenchmarkFoo$ <span style="color:#ff79c6">-</span>blockprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>blockprofile.out . 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=^BenchmarkFoo$ <span style="color:#ff79c6">-</span>mutexprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>mutexprofile.out . 
$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=^BenchmarkFoo$ <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo.test <span style="color:#ff79c6">-</span>cpuprofile=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>cpuprofile.out . 
$ <span style="color:#ff79c6">go</span> tool pprof <span style="color:#ff79c6">-</span>http=:<span style="color:#bd93f9">5000</span> <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>cpuprofile.out                    # 在浏览器中审查 
$ <span style="color:#ff79c6">go</span> tool pprof <span style="color:#ff79c6">--</span>nodefraction=<span style="color:#bd93f9">0.1</span> <span style="color:#ff79c6">-</span>http=:<span style="color:#bd93f9">5000</span> <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>cpuprofile.out # 忽略小于 <span style="color:#bd93f9">10</span><span style="color:#ff79c6">%</span> 的节点
</code></pre></td></tr></table>
</div>
</div><h2 id="tracing-生成">Tracing 生成</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> test <span style="color:#ff79c6">-</span>run=^$ <span style="color:#ff79c6">-</span>bench=^BenchmarkFoo$ <span style="color:#ff79c6">-</span>trace=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>trace.out . 
$ <span style="color:#ff79c6">go</span> tool trace <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>trace.out # 目前只在 Chrome<span style="color:#ff79c6">/</span>Chromium 可用
</code></pre></td></tr></table>
</div>
</div><h2 id="竞态条件检查">竞态条件检查</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> build <span style="color:#ff79c6">-</span>race <span style="color:#ff79c6">-</span>o=<span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo .         # 别用于生产环境 
$ GORACE=<span style="color:#f1fa8c">&#34;log_path=/tmp/race&#34;</span> <span style="color:#ff79c6">/</span>tmp<span style="color:#ff79c6">/</span>foo # 输出到文件而不是标准错误
</code></pre></td></tr></table>
</div>
</div><h1 id="依赖管理module">依赖管理（Module）</h1>
<h2 id="项目依赖更新">项目依赖更新</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> list <span style="color:#ff79c6">-</span>m <span style="color:#ff79c6">-</span>u github.com<span style="color:#ff79c6">/</span>alecthomas<span style="color:#ff79c6">/</span>chroma  # 检查该库是否有新版本 
$ <span style="color:#ff79c6">go</span> list <span style="color:#ff79c6">-</span>m <span style="color:#ff79c6">-</span>u all                           # 更新项目所有依赖 
</code></pre></td></tr></table>
</div>
</div><h2 id="依赖升级或降级">依赖升级或降级</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> get github.com<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar@latest            # 最新版本 
$ <span style="color:#ff79c6">go</span> get github.com<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar@v1<span style="color:#bd93f9">.2.3</span>            # 特定版本 v1<span style="color:#bd93f9">.2.3</span> 
$ <span style="color:#ff79c6">go</span> get github.com<span style="color:#ff79c6">/</span>foo<span style="color:#ff79c6">/</span>bar@<span style="color:#bd93f9">7e0369</span>f           # 到特定提交 
</code></pre></td></tr></table>
</div>
</div><h2 id="运行所有包的全部测试检验不兼容性">运行所有包的全部测试检验不兼容性</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> mod tidy $ <span style="color:#ff79c6">go</span> test all
</code></pre></td></tr></table>
</div>
</div><h2 id="使用依赖的本地版本">使用依赖的本地版本</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> mod edit <span style="color:#ff79c6">-</span>replace=github.com<span style="color:#ff79c6">/</span>alexedwards<span style="color:#ff79c6">/</span>argon2id=<span style="color:#ff79c6">/</span>home<span style="color:#ff79c6">/</span>alex<span style="color:#ff79c6">/</span>code<span style="color:#ff79c6">/</span>argon2id # 创建 replace 规则 
$ <span style="color:#ff79c6">go</span> mod edit <span style="color:#ff79c6">-</span>dropreplace=github.com<span style="color:#ff79c6">/</span>alexedwards<span style="color:#ff79c6">/</span>argon2id                      # 删除 replace 规则
</code></pre></td></tr></table>
</div>
</div><h1 id="其他工具">其他工具</h1>
<h2 id="升级代码到-go-新版本">升级代码到 Go 新版本</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> fix .<span style="color:#ff79c6">/...</span> 
</code></pre></td></tr></table>
</div>
</div><h2 id="报告-bug">报告 Bug</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">$ <span style="color:#ff79c6">go</span> bug # 会打开浏览器，定位 Go 代码仓库的 issue 页面
</code></pre></td></tr></table>
</div>
</div>
        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>原文作者：</strong><a rel="author" href="http://tianbaoo.github.io/">郭天宝</a></li>
        <li style="word-break:break-all"><strong>原文链接：</strong><a href="http://tianbaoo.github.io/post/goFast/">http://tianbaoo.github.io/post/goFast/</a></li>
        <li><strong>版权声明：</strong>本作品采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/post/PyCoroutines/">Python协程&amp;asyncio&amp;异步编程</a></li>
        
        <li><a href="/post/MyRedisQueue/">封装的Redis队列</a></li>
        
        <li><a href="/post/jsonrpc/">pyjsonrpc的使用</a></li>
        
        <li><a href="/about/">关于我</a></li>
        
        <li><a href="/archives/">归档</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='http://tianbaoo.github.io/tags/%E7%BC%96%E7%A8%8B'>编程</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "tianbaoo/tianbaoo.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='http://tianbaoo.github.io/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="http://tianbaoo.github.io/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="http://tianbaoo.github.io/post/goFast/" title="go常用命令行命令">go常用命令行命令</a>
    </li>
    
    <li>
        <a href="http://tianbaoo.github.io/post/PyCoroutines/" title="Python协程&amp;asyncio&amp;异步编程">Python协程&amp;asyncio&amp;异步编程</a>
    </li>
    
    <li>
        <a href="http://tianbaoo.github.io/post/MyRedisQueue/" title="封装的Redis队列">封装的Redis队列</a>
    </li>
    
    <li>
        <a href="http://tianbaoo.github.io/post/jsonrpc/" title="pyjsonrpc的使用">pyjsonrpc的使用</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">分类</h3>
<ul class="widget-list">
    
    <li><a href="http://tianbaoo.github.io/categories/Go/">Go (1)</a></li>
    
    <li><a href="http://tianbaoo.github.io/categories/Python/">Python (2)</a></li>
    
    <li><a href="http://tianbaoo.github.io/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列 (1)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title">标签</h3>
<div class="tagcloud">
    
    <a href="http://tianbaoo.github.io/tags/%E7%BC%96%E7%A8%8B/">编程</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://www.github.com/tianbaoo/" title="天宝的GitHub">天宝的Github</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="http://tianbaoo.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
    <footer id="footer">
    <div class="container">
        &copy; 2020 <a href="http://tianbaoo.github.io/">天宝的博客 By 郭天宝</a>.
        Powered by <a rel="nofollow noreferer noopener" href="https://gohugo.io" target="_blank">Hugo</a>.
        <a href="https://www.flysnow.org/" target="_blank">Theme</a> based on <a href="https://github.com/flysnow-org/maupassant-hugo" target="_blank">maupassant</a>.
        
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'GA ID', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




    <script src='/js/douban.js'></script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


</body>

</html>